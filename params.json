{"name":"Smithy","tagline":"Smithy will help you build, test, and install software with ease.","body":"Overview\r\n--------\r\n\r\n`smithy` is a command line software installation tool that borrows ideas heavily\r\nfrom the excellent [homebrew](http://brew.sh/) package management system for Mac OS X and [SWTools](http://www.olcf.ornl.gov/center-projects/swtools/).\r\n\r\nMore information can be found on the manpages:\r\n- [smithy manpage](http://anthonydigirolamo.github.com/smithy/smithy.1.html)\r\n- [smithyformula manpage](http://anthonydigirolamo.github.com/smithy/smithyformula.5.html)\r\n\r\nFeatures\r\n--------\r\n\r\nSmithys goal is to make following the SWTools conventions easier and less error\r\nprone. Improvements include:\r\n\r\n- Simpler command line interface. You can compile a new piece of software with\r\n  two commands.\r\n- Simpler rebuild scripts (8 lines instead of 49).\r\n- Automatic generation of modulefiles.\r\n- Automatic generation of build scripts depending on the environment or\r\n  compiler.\r\n- Write software descriptions without html.\r\n- Search for software, report who built it, and when.\r\n- Cleaner, shorter, and more maintainable code.\r\n\r\nInstallation\r\n------------\r\n\r\nsmithy is available through [rubygems](http://rubygems.org/gems/software_smithy)\r\nso if you already have ruby 1.9.2 or higher available just run:\r\n\r\n    gem install software_smithy\r\n\r\nSet `$SMITHY_CONFIG` to your smithy config file and you're good to go. If you\r\nneed to install ruby or require a multiuser installation read on:\r\n\r\n### Installing ruby\r\n\r\nSmithy requires ruby 1.9.2 or later. Most enterprise Linux distributions only\r\nship version 1.8.7 and you may need build your own copy. The simplest way is\r\nusing the excellent [ruby-build](https://github.com/sstephenson/ruby-build)\r\nscript. As an example, this will install ruby with a prefix of\r\n`/sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4`\r\n\r\n    curl -L https://github.com/sstephenson/ruby-build/archive/master.zip -o ruby-build.zip\r\n    unzip ruby-build.zip\r\n    cd ruby-build-master\r\n    ./bin/ruby-build -h\r\n    ./bin/ruby-build --definitions\r\n    ./bin/ruby-build 1.9.3-p286 /sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4\r\n\r\nMany sites use [Environment Modules](http://modules.sourceforge.net/) to allow\r\nusers to load and unload software into their environment. Here is sample\r\nmodulefile for ruby installed in the previous example.\r\n\r\n    #%Module1.0\r\n    proc ModulesHelp { } {\r\n      puts stderr \"Ruby 1.9.3 patch 286\"\r\n      puts stderr \"The gem command will install gems to the ~/.gem directory.\"\r\n    }\r\n    module-whatis \"Ruby 1.9.3-p286\"\r\n\r\n    set PREFIX /sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4\r\n    prepend-path PATH            $PREFIX/bin\r\n    prepend-path LD_LIBRARY_PATH $PREFIX/lib\r\n    prepend-path MANPATH         $PREFIX/share/man\r\n    setenv       GEM_HOME        $env(HOME)/.gem/ruby/1.9.1\r\n    setenv       GEM_PATH        $env(HOME)/.gem/ruby/1.9.1:$PREFIX/lib/ruby/gems/1.9.1\r\n    prepend-path PATH            $env(HOME)/.gem/ruby/1.9.1/bin:$PREFIX/lib/ruby/gems/1.9.1/bin\r\n\r\nThis file should be saved to `$MODULEPATH/ruby/1.9.3`\r\n\r\n### Installing smithy\r\n\r\n#### Choosting an install location\r\n\r\nThere are two ways to install smithy. The simplest is by simply installing the\r\n`software_smithy` gem. This will install smithy and it's required gems in\r\nyour home directory:\r\n\r\n    gem install software_smithy\r\n\r\nIf you are installing in production for all users you will want to install\r\nsmithy somewhere everyone can access. There are two places you might want to do\r\nthis:\r\n\r\n##### Ruby's default `GEM_PATH`\r\n\r\nIf you installed manually using the examples above, this will be something like\r\n`PREFIX/lib/ruby/gems/1.9.1` This will give access to smithy whenever\r\nruby is loaded into a users environment using the modulefile above. To install\r\nto ruby's default `GEM_PATH` (following the above example):\r\n\r\n    export GEM_HOME=/sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4/lib/ruby/gems/1.9.1\r\n    gem install software_smithy --no-rdoc --no-ri\r\n\r\n##### A different location of your choosing.\r\n\r\nThis is useful if you want a single smithy install location for more than one\r\ninstall of ruby (typically on separate machines). This method is a bit more\r\ncomplicated and requires users to load smithy into their environment manually in\r\naddition to ruby.\r\n\r\nAssuming you use environment modules you can install smithy to a separate\r\ndirectory e.g. `/sw/tools/smithy` with the\r\n[install\\_smithy](https://github.com/AnthonyDiGirolamo/smithy/blob/master/script/install_smithy)\r\nscript. This will setup a folder containing the smithy gem, a modulefile and a\r\nscript that sets up shell completion. Users can load smithy into their\r\nenvironment by running:\r\n\r\n    source /sw/tools/smithy/environment.sh\r\n\r\n### Loading smithy into your environment\r\n\r\nSmithy depends on a config file to define it's behavior. Once created you can\r\npoint smithy to it's location using the `$SMITHY_CONFIG` environment variable.\r\n\r\nHere is an example config file:\r\n\r\n    ---\r\n    software-root: /sw\r\n    file-group-name: ccsstaff\r\n    hostname-architectures:\r\n      titan-ext: xk6\r\n      titan-login: xk6\r\n      chester-login: xk6\r\n      lens: analysis-x64\r\n      lens-login: analysis-x64\r\n      sith: redhat6\r\n      sith-login: redhat6\r\n      smoky: smoky\r\n      smoky-login: smoky\r\n    web-root: /ccs/proj/ccsstaff/swdesc/data\r\n    descriptions-root: /sw/descriptions\r\n    web-architecture-names:\r\n      xk6: titan\r\n      analysis-x64: lens\r\n      smoky: smoky\r\n    download-cache: /sw/sources\r\n    formula-directories:\r\n    - /sw/tools/smithy/formulas\r\n    global-error-log: /sw/tools/smithy/exceptions.log\r\n\r\nYou may wish to set this using a modulefile or a shell script. Examples are\r\nprovided in\r\n[modulefiles/smithy/1.1](https://github.com/AnthonyDiGirolamo/smithy/blob/master/modulefiles/smithy/1.1)\r\nand\r\n[environment.sh](https://github.com/AnthonyDiGirolamo/smithy/blob/master/environment.sh)\r\n\r\nLicense\r\n-------\r\n\r\nSmithy is based on the ideas created in SWTools and uses a BSD license. See\r\n[LICENSE](https://github.com/AnthonyDiGirolamo/smithy/blob/master/LICENSE) for\r\nthe exact text.\r\n\r\nContributing and Support\r\n------------------------\r\n\r\nThe smithy [github repo](https://github.com/AnthonyDiGirolamo/smithy) contains\r\nall development files. Please fork and send me a pull request with any additions\r\nor changes.\r\n\r\nIf you encounter any issues please [open an issue](https://github.com/AnthonyDiGirolamo/smithy/issues) on github. Or send me an email.\r\n","google":"UA-38580803-1","note":"Don't delete this file! It's used internally to help with page regeneration."}