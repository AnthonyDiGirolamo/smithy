<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Smithy by AnthonyDiGirolamo</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/AnthonyDiGirolamo/smithy">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/AnthonyDiGirolamo/smithy/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/AnthonyDiGirolamo/smithy/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Smithy</h1>
          <p>Smithy will help you build, test, and install software with ease.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/AnthonyDiGirolamo">AnthonyDiGirolamo</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="smithy" class="anchor" href="#smithy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Smithy</h1>

<p>This repo is for the Smithy application itself. For formulas see
<a href="https://github.com/AnthonyDiGirolamo/smithy_formulas">smithy_formulas</a></p>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

<p><code>smithy</code> is a command line software installation tool that borrows ideas heavily
from the excellent <a href="http://brew.sh/">homebrew</a> package management system for Mac
OS X and
<a href="http://www.olcf.ornl.gov/center-projects/swtools/">SWTools</a>.<a href="#smithy_ref1"><sup>1</sup></a></p>

<p>Smithy is designed to sanely manage many software builds within a shared
<a href="http://en.wikipedia.org/wiki/High-performance_computing">HPC</a> Linux or Mac
environment using <a href="http://modules.sourceforge.net/">modulefiles</a> to load
software into a user's shell.</p>

<p>Software builds are created with a few conventions:</p>

<ul>
<li>Everything is organized into architecture or OS directores, e.g. redhat6 or sles11</li>
<li>Prefixes are defined by their name, version, and build name</li>
<li>Software is loaded into the shell using <a href="http://modules.sourceforge.net/">modulefiles</a>
</li>
<li>Builds are performed by <a href="http://anthonydigirolamo.github.io/smithy/smithy.1.html#FORMULAS">formulas</a> or <a href="http://anthonydigirolamo.github.io/smithy/smithy.1.html#BUILD-SCRIPTS">build scripts</a>
</li>
</ul>

<p>Examples of many formulas can be found in the
<a href="https://github.com/AnthonyDiGirolamo/smithy_formulas">smithy_formulas</a> repo.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>Lots of information and a tutorial can be found on the manpages:</p>

<ul>
<li><p><a href="http://anthonydigirolamo.github.com/smithy/smithy.1.html">smithy</a></p></li>
<li><p><a href="http://anthonydigirolamo.github.com/smithy/smithyformula.5.html">smithyformula</a></p></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Smithy is available for download on the <a href="https://github.com/AnthonyDiGirolamo/smithy/releases">releases
page</a>. Once downloaded it
can be extracted and run from any location. Smithy is written in
<a href="https://www.ruby-lang.org/">ruby</a> and provides a built in ruby environment via
<a href="http://phusion.github.io/traveling-ruby/">Traveling-Ruby</a>. You do not need to
install ruby to use Smithy. Releases for Mac and Linux are available.</p>

<h2>
<a id="running" class="anchor" href="#running" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running</h2>

<p>Extract to a directory of your choice and set the <code>$SMITHY_PREFIX</code> environment
variable in the <code>environment.sh</code> file. Assuming you extracted Smithy to
<code>/sw/tools/smithy</code> the top of the environment.sh file should look like:</p>

<pre><code>export SMITHY_PREFIX=/sw/tools/smithy
export SMITHY_CONFIG=$SMITHY_PREFIX/smithyrc
export MANPATH=$SMITHY_PREFIX/lib/app/man:$MANPATH
</code></pre>

<p>Once set, source the <code>environment.sh</code> using <code>bash</code> or <code>zsh</code></p>

<pre><code>source /sw/tools/smithy/environment.sh
</code></pre>

<p>Smithy depends on a config file to define it's behavior. Once created you can
point Smithy to it's location by setting the <code>$SMITHY_CONFIG</code> environment
variable.</p>

<p>You can generate an example config file using Smithy itself by running:</p>

<pre><code>smithy show example_config
</code></pre>

<p>Here is an example config file in <a href="http://yaml.org/">yaml</a> format:</p>

<pre><code>---
software-root: /sw
file-group-name: ccsstaff
hostname-architectures:
  titan-ext: xk6
  titan-login: xk6
  chester-login: xk6
  lens: analysis-x64
  lens-login: analysis-x64
  sith: redhat6
  sith-login: redhat6
  smoky: smoky
  smoky-login: smoky
web-root: /ccs/proj/ccsstaff/swdesc/data
descriptions-root: /sw/descriptions
web-architecture-names:
  xk6: titan
  analysis-x64: lens
  smoky: smoky
download-cache: /sw/sources
formula-directories:
- /sw/tools/smithy/formulas
global-error-log: /sw/tools/smithy/exceptions.log
</code></pre>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Smithy is based on the ideas created in SWTools and uses a BSD license. See
<a href="https://github.com/AnthonyDiGirolamo/smithy/blob/master/LICENSE">LICENSE</a> for
the exact text.</p>

<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h2>

<p><a name="smithy_ref1"></a></p>

<p>N. Jones, M. R. Fahey, "Design, Implementation, and Experiences of Third-Party Software Administration at the ORNL NCCS," Proceedings of the 50th Cray User Group (CUG08), Helsinki, May 2008.</p>

<h2>
<a id="contributing-and-support" class="anchor" href="#contributing-and-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing and Support</h2>

<p>The Smithy <a href="https://github.com/AnthonyDiGirolamo/smithy">github repo</a> contains
all development files. Please fork and send me a pull request with any additions
or changes.</p>

<p>If you encounter any issues please <a href="https://github.com/AnthonyDiGirolamo/smithy/issues">open an issue</a> on github. Or send me an email.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-38580803-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>