<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Smithy : Smithy will help you build, test, and install software with ease." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Smithy</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/AnthonyDiGirolamo/smithy">View on GitHub</a>

          <h1 id="project_title">Smithy</h1>
          <h2 id="project_tagline">Smithy will help you build, test, and install software with ease.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/AnthonyDiGirolamo/smithy/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/AnthonyDiGirolamo/smithy/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Smithy is a tool that aims to replicate and improve upon functionality of
<a href="http://www.olcf.ornl.gov/center-projects/swtools/">SWTools</a>.</p>

<p>Smithy's goals are:</p>

<ul>
<li>Provide a simplified and intuitive command line interface for installing software.</li>
<li>Reduce the number of steps necessary for each function</li>
</ul><h1>Installation</h1>

<h2>Installing ruby</h2>

<p>Smithy requires ruby 1.9.2 or later. Most distrubutions only ship version 1.8.7
and you may need build your own copy. The simplest way is using the excellent
<a href="https://github.com/sstephenson/ruby-build">ruby-build</a> script. As an example,
this will install ruby with a prefix of <code>/sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4</code></p>

<pre><code>curl -L https://github.com/sstephenson/ruby-build/archive/master.zip -o ruby-build.zip
unzip ruby-build.zip
cd ruby-build-master
./bin/ruby-build -h
./bin/ruby-build --definitions
./bin/ruby-build 1.9.3-p286 /sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4
</code></pre>

<p>Many sites use <a href="http://modules.sourceforge.net/">Environment Modules</a> to allow
users to load and unload software into their environment. Here is sample
modulefile for ruby installed in the previous example.</p>

<pre><code>#%Module1.0
proc ModulesHelp { } {
  puts stderr "Ruby 1.9.3 patch 286"
  puts stderr "The gem command will install gems to the ~/.gem directory."
}
module-whatis "Ruby 1.9.3-p286"

set PREFIX /sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4
prepend-path PATH            $PREFIX/bin
prepend-path LD_LIBRARY_PATH $PREFIX/lib
prepend-path MANPATH         $PREFIX/share/man
setenv       GEM_HOME        $env(HOME)/.gem/ruby/1.9.1
setenv       GEM_PATH        $env(HOME)/.gem/ruby/1.9.1:$PREFIX/lib/ruby/gems/1.9.1
prepend-path PATH            $env(HOME)/.gem/ruby/1.9.1/bin:$PREFIX/lib/ruby/gems/1.9.1/bin
</code></pre>

<p>This file should be saved to <code>$MODULEPATH/ruby/1.9.3</code></p>

<h2>Installing smithy</h2>

<h3>Choosting an install location</h3>

<p>There are two ways to install smithy. The simplest is by simply installing the
<code>software_smithy</code> gem. This will install smithy and it's required gems in
your home directory:</p>

<pre><code>gem install software_smithy
</code></pre>

<p>If you are installing in production for all users you will want to install
smithy somewhere everyone can access. There are two places you might want to do
this:</p>

<h4>Ruby's default <code>GEM_PATH</code>
</h4>

<p>If you installed manually using the examples above, this will be something like
<code>PREFIX/lib/ruby/gems/1.9.1</code> This will give access to smithy whenever
ruby is loaded into a users environment using the modulefile above. To install
to ruby's default <code>GEM_PATH</code> (following the above example):</p>

<pre><code>export GEM_HOME=/sw/xk6/ruby/1.9.3-p286/sles11.1_gnu4.3.4/lib/ruby/gems/1.9.1
gem install software_smithy --no-rdoc --no-ri
</code></pre>

<h4>A different location of your choosing.</h4>

<p>This is useful if you want a single smithy install location for more than one
install of ruby (typically on separate machines). This method is a bit more
complicated and requires users to load smithy into their environment manually in
addition to ruby.</p>

<p>Assuming you use environment modules you can install smithy to a separate
directory e.g. <code>/sw/tools/smithy</code> with the
<a href="https://github.com/AnthonyDiGirolamo/smithy/blob/master/install_smithy">install_smithy</a>
script. This will setup a folder containing the smithy gem, a modulefile and a
script that sets up shell completion. Users can load smithy into their
environment by running:</p>

<pre><code>source /sw/tools/smithy/environment.sh
</code></pre>

<h3>Loading smithy into your environment</h3>

<p>Smithy depends on a config file to define it's behavior. For an example see
<a href="https://github.com/AnthonyDiGirolamo/smithy/blob/master/etc/smithyrc">etc/smithyrc</a>
This can be set via the <code>$SMITHY_CONFIG</code> environment variable.</p>

<p>You may wish to set this using a modulefile or a shell script. Examples are
provided in
<a href="https://github.com/AnthonyDiGirolamo/smithy/blob/master/modulefiles/smithy/1.0">modulefiles/smithy/1.0</a>
and
<a href="https://github.com/AnthonyDiGirolamo/smithy/blob/master/environment.sh">environment.sh</a></p>

<h1>License</h1>

<p>Smithy is based on the ideas created in SWTools and uses a BSD license. See
LICENSE for the exact text.</p>

<h1>Contributing and Support</h1>

<p>The smithy <a href="https://github.com/AnthonyDiGirolamo/smithy">github repo</a> contains
all development files. Please fork and send me a pull request with any additions
or changes.</p>

<p>If you encounter any issues please <a href="https://github.com/AnthonyDiGirolamo/smithy/issues">open an issue</a> on github. Or send me an email.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Smithy maintained by <a href="https://github.com/AnthonyDiGirolamo">AnthonyDiGirolamo</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
